<!DOCTYPE html>
<html>
  <head>
    <title>Chatbot</title>
  </head>
  <body>
    <div class="js-container"></div>

    <!-- React y ReactDOM desde CDN -->
    <script src="https://unpkg.com/supersimpledev/react.js"></script>
    <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>

    <!-- Babel compiler para JSX, traduce JSX a JavaScript normal en el navegador -->
    <script src="https://unpkg.com/supersimpledev/babel.js"></script>
    <!-- Nuestro código React en JSX --> 
    <script type="text/babel">

        // Componente ChatInput que retorna un input y un botón
        function ChatInput() { 
            return (
                <>
                    <input 
                        type="text" 
                        placeholder="Send a message to Chatbot" 
                        size="30" 
                    />
                    <button>Send</button>
                </>
            )
        }  

        function ChatMessage({ message, sender }) {
            //const message = props.message;
            //const sender = props.sender;
            //const { message, sender } = props;
            /*
            if (sender === "chatbot") {
                return (
                    <div>
                        <img src="robot.png" alt="" width= "50" />
                        {message}
                    </div>
                )
            }
            */

            return (
                <div>
                    {sender === 'robot' && (
                        <img src="robot.png" alt="" width= "50" />
                    )}
                    {message}
                    {sender === 'user' && (
                        <img src="user.png" alt="" width= "50" />
                    )}
                </div>
            )
        }
    
        // Renderizamos el componente ChatInput dentro del contenedor 

        function App() {
            return (
                <>
                    <ChatInput />
                    <ChatMessage 
                        message= "hello chatbot!" 
                        sender = "user"
                    />
                    <ChatMessage 
                        message= "Hello! How can I help you?" 
                        sender = "robot"
                    />
                    <ChatMessage 
                        message= "can you get me todays date?" 
                        sender = "user"
                    />
                    <ChatMessage 
                        message= "Today is September 10th" 
                        sender = "robot"
                    />
                </>       
            );
        }
       

      // Seleccionamos el contenedor y renderizamos la aplicación React en él 
      const container = document.querySelector('.js-container');
      ReactDOM.createRoot(container).render(<App />);
    </script>
  </body>
</html>